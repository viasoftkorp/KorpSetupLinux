---
# é pega durante a chamada de "TenantManagement/server-deploy/token/" na role "infrastructure"
version_without_build: ""

korp_dir_path: /etc/korp

dados_docker_dir_path: "{{ korp_dir_path }}/dados-docker"
compose_dir_path: "{{ korp_dir_path }}/composes"
versioned_compose_dir_path: "{{ compose_dir_path }}/{{ version_without_build }}"
docker_env_file_path: "{{ compose_dir_path }}/.env"

# não colocar "/" no final dessa gateway, pois utilizamos no KV Global. lá espera-se que vem sem "/"
# essa variável pode ser sobrescrita durante chamada de playbook
gateway_url: "https://gateway.korp.com.br"

redis_container_name: redis
rabbitmq_container_name: rabbitmq
postgres_container_name: postgres

services:
  - Viasoft.Authentication:
    db:
      db_name: Viasoft_Authentication
      db_type: mssql
  - Korp.Legacy.Authentication:
    db:
      db_name: Auth_Legacy_Integration
      db_type: mssql
  - Viasoft.Reporting:
    db:
      db_name: Viasoft_Reporting
      db_type: mssql
  - Viasoft.Reporting.Stimulsoft:
    db:
      db_name: Viasoft_Reporting_Stimulsoft
      db_type: mssql
  - Viasoft.Portal:
    db:
      db_name: Viasoft_Portal
      db_type: mssql  
  - Viasoft.Notification:
    db:
      db_name: Viasoft_Notification
      db_type: mssql
  - Viasoft.TenantManagement:
    db:
      db_name: Viasoft_TenantManagement
      db_type: mssql
  - Viasoft.Authorization:
    db:
      db_name: Viasoft_Authorization
      db_type: mssql
  - Viasoft.Administration:
    db:
      db_name: Viasoft_Administration
      db_type: mssql
  - Viasoft.Vendas.Orcamento.Core:
    db:
      db_name: Viasoft_Vendas_Orcamento_Core
      db_type: postgres 
  - Viasoft.Vendas.Orcamento.Gateway:
    db:
      db_name: Viasoft_Vendas_Orcamento_Gateway
      db_type: postgres
  - Viasoft.Engenharia.Core:
    db:
      db_name: Viasoft_Engenharia_Core
      db_type: postgres
  - Viasoft.Engenharia.CustoOrcamento:
    db:
      db_name: Viasoft_Engenharia_CustoOrcamento
      db_type: postgres
