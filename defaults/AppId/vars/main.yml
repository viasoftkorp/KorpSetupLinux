services:
  <service_name>:
      # OPCIONAL, caso não haja a necessidade de criar DataBase, remover bloco 'db'
    db:
      name: <db_name> # OPCIONAL, caso vazio 'name' será o nome do serviço com '_' ao invés de '.'
      type: mssql/postgres  # OBRIGATÓRIO
    # OPCIONAL, caso bloco não exista, irá gerar cliente oauth
    oauth_client:
      skip: false
    # OPCIONAL, lista contendo o caminho absoluto para os diretórios dos volumes.
    volumes_directories:
      - "{{ dados_docker_dir_path }}/<appId>/<path>" # sempre utilize esse template
    # OPCIONAL
    version:
      unversioned: true # valor padrão - false

custom_kv_overwrite: []
# OPCIONAL, Uma lista de strings representando os caminhos das chaves (relativos aos do kv atual) que podem ser sobrescritas no Consul.
# custom_kv_overwrite: [<chave1>, <chave2>, ...]

    ##### Exemplo de uso:

    # current_kv = {a: {b: "Valor antigo1", d: "Valor antigo2"}}}
    # new_kv     = {a: {b: {c: "Valor novo"}}}

    # | custom_kv_overwrite | RESULTADO                                                 | OBSERVAÇÕES                                                   | 
    # |---------------------|-----------------------------------------------------------|---------------------------------------------------------------|
    # | ["a.b"]             | a: {b: **{c: "Valor novo"}**, d: "Valor antigo2"}}        |   alterou valor da chave `a.b`                                |
    # | ["a"]               | a: {b: **{c: "Valor novo"}**}                             |   alterou valor da chave `a`                                  |
    # | ["a.b.c"]           | a: {b: "Valor antigo1", d: "Valor antigo2"}}              |   sem efeito (chave `a.b.c` não existe em current_kv )        |
    # | ["b"]               | a: {b: "Valor antigo1", d: "Valor antigo2"}}              |   sem efeito (necessário fornecer caminho para chave aninhada)|


    # Por padrão, a sobrescrita sempre ocorrerá para as chaves:
    #   - ServiceBus.StorageConnectionString 
    #   - ConnectionStrings.DefaultConnection 
    #   - Provisioning.EnableSchemaProvisioning 
    #   - EnableEnvironmentDependentConnectionString
  
    # Isso é definido na variável `default_kv_overwrite` em `group_vars/all/main.yaml`
