# parâmetros enviados:
#   db_name: string
#
# Exemplo de uso:
#
#   - name: Criação de db
#     ansible.builtin.include_role:
#       name: utils
#       tasks_from: create_db/postgres
#     vars:
#       db_name: test.database

- name: "Criação de database {{ db_name }} em PostgreSql"
  community.docker.docker_container_exec:
    container: "{{ postgres_container_name }}"
    command: |
      psql -U {{ postgres.korp_user }} -c "CREATE DATABASE {{ db_name }} OWNER {{ postgres.korp_user }};"
